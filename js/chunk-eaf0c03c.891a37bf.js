(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-eaf0c03c"],{3530:function(e,r,t){"use strict";t.r(r);var a=function(){var e=this,r=e.$createElement,t=e._self._c||r;return t("div",{staticClass:"home"},[t("Admin")],1)},n=[],o=function(){var e=this,r=e.$createElement,t=e._self._c||r;return t("b-container",{attrs:{fluid:""}},[t("h2",[e._v("Manual Sync")]),t("p",[t("b-link",{on:{click:e.dropboxSync}},[e._v("Dropbox Sync")])],1),t("h2",[e._v(" Chrome extention: drag link to chrome bookmarks bar, not required for mobile (implemented via share api) ")]),t("a",{attrs:{href:e.addDesktopsearchBookmark}},[e._v("Add Bookmark")]),t("h2",[e._v("Workbooks")]),t("b-card",{staticClass:"mb-2"},[t("b-link",{on:{click:function(r){return e.addWorkbook()}}},[e._v("Add")]),t("ul",e._l(e.workbooks,(function(r,a){return t("li",{key:r.uuid,staticClass:"mb-2"},[t("b-form-input",{attrs:{value:r.name},on:{change:function(t){return e.emitWorkbookName(r,t)}}}),t("span",[1!==e.workbooks.length?t("b-link",{on:{click:function(t){return e.deleteWorkbook(r,a)}}},[e._v("Del")]):e._e(),e._v("  "),1!==e.workbooks.length?t("span",[e._v("|")]):e._e(),t("b-link",{on:{click:function(t){return e.purgeWorkbook(r)}}},[e._v("Purge")]),e._v(" | "),r.isExport?t("b-badge",{attrs:{variant:"success"},on:{click:function(t){return e.doToggleExport(r)}}},[e._v("Export")]):e._e(),r.isExport?e._e():t("b-badge",{attrs:{variant:""},on:{click:function(t){return e.doToggleExport(r)}}},[e._v("Export")])],1)],1)})),0)],1),t("h2",[e._v("External search")]),t("b-card",{staticClass:"mb-2"},[t("ul",e._l(e.externalSearchs,(function(r,a){return t("div",{key:r.uuid},[t("b-form-row",[t("b-form-group",{staticClass:"mb-2 mr-sm-2 mb-sm-0",attrs:{label:"Name:"}},[t("b-form-input",{attrs:{value:r.name,required:""},on:{change:function(t){return e.emitExternalSearchName(r,t)}}})],1),t("b-form-group",{staticClass:"mb-2 mr-sm-2 mb-sm-0",attrs:{label:"Url:"}},[t("b-form-input",{attrs:{value:r.url,required:""},on:{change:function(t){return e.emitExternalSearchUrl(r,t)}}})],1)],1),0!==a?t("span",[t("b-link",{on:{click:function(t){return e.deleteExternalSearch(r,a)}}},[e._v("Del")]),e._v(" | ")],1):e._e(),t("b-link",{on:{click:function(t){return e.addExternalSearchParam(r)}}},[e._v("Add param")]),e._l(r.externalSearchParams,(function(a,n){return t("b-card",{key:a.uuid},[t("b-form-row",[t("b-form-group",{staticClass:"mb-2 mr-sm-2 mb-sm-0",attrs:{label:"Param:"}},[t("b-form-input",{attrs:{value:a.paramName},on:{change:function(t){return e.emitExternalSearchearchParamName(r,n,t)}}})],1),t("b-form-group",{staticClass:"mb-2 mr-sm-2 mb-sm-0",attrs:{label:"Val:"}},[t("b-input-group",{attrs:{prepend:"is search param"}},[t("b-input-group-append",{attrs:{"is-text":""}},[t("b-form-checkbox",{staticClass:"mr-n2 mb-n1",attrs:{switch:""},on:{change:function(t){return e.emitExternalSearchearchPValueIsSearchText(r,n,t)}},model:{value:a.paramValueIsSearchText,callback:function(r){e.$set(a,"paramValueIsSearchText",r)},expression:"externalSearchParam.paramValueIsSearchText"}},[t("span",{staticClass:"sr-only"})]),a.paramValueIsSearchText?e._e():t("b-form-input",{staticClass:"ml-2",attrs:{value:a.paramValue},on:{change:function(t){return e.emitExternalSearchearchParamValue(r,n,t)}}})],1)],1)],1)],1),t("b-link",{on:{click:function(t){return e.delExternalSearchParam(r,n)}}},[e._v("Del param")])],1)}))],2)})),0),t("b-link",{on:{click:function(r){return e.addExternalSearch()}}},[e._v("Add")])],1),t("b-card",{staticClass:"mb-2"},[t("h2",[e._v("Export")]),t("b-button",{staticClass:"mr-1",on:{click:e.doExportBookmarks}},[e._v("Export")]),t("h2",[e._v("Import")]),t("input",{ref:"el",staticClass:"btn mr-1 btn-secondary",attrs:{type:"file"},on:{change:e.doImportBookmarks}})],1)],1)},c=[],u=t("1da1"),i=(t("96cf"),t("ac1f"),t("5319"),t("a434"),t("a9e3"),t("b0c0"),t("49a7")),s=t("388c"),l=t("4940"),m=t("aa80"),d=t("a6f4"),p=Object(d["c"])({setup:function(){var e=Object(d["d"])(),r=Object(d["e"])("vuex-store"),t=Object(d["e"])("router"),a=Object(d["a"])((function(){return r.state.workbooks})),n=Object(d["a"])((function(){return r.state.externalSearchs})),o='javascript:\ntitle = document.title;\nurl = window.location.href;\ndescription = document.querySelector(\'meta[name="description"]\') ? document.querySelector(\'meta[name="description"]\').content : "";\nkeywords = document.querySelector(\'meta[name="keywords"]\') ? document.querySelector(\'meta[name="keywords"]\').content : "";\nhostname = window.location.hostname;\nr = {title: title, url: url, description: description, keywords: keywords, hostname: hostname};\n\nrs=JSON.stringify(r);\nurl = "'.concat(window.location.href.replace("/admin","/localBookmark/-2"),'" + encodeURIComponent(rs);\n\nwindow.open(url, "_blank");\n\n');Object(d["f"])((function(){r.state.pageName="Admin"}));var c=function(){t.replace({name:"dropboxsync"})},p=function(){var e=Object(u["a"])(regeneratorRuntime.mark((function e(r){var t,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t=new l["b"],t.paramName="q",t.paramValue="",t.paramValueIsSearchText=!0,r.externalSearchParams.push(t),a=new l["a"](r),e.abrupt("return",a.save());case 7:case"end":return e.stop()}}),e)})));return function(r){return e.apply(this,arguments)}}(),b=function(e,r){e.externalSearchParams.splice(r,1);var t=new l["a"](e);return t.save()},k=function(){var e=Object(u["a"])(regeneratorRuntime.mark((function e(r){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r.isExport=r.isExport?0:1,t=new i["a"](r),e.next=4,t.save();case 4:case"end":return e.stop()}}),e)})));return function(r){return e.apply(this,arguments)}}(),f=function(){var e=Object(u["a"])(regeneratorRuntime.mark((function e(t,n){var o;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,s["a"].deleteByWorkbookId(Number(t.id));case 2:return o=new i["a"](t),e.next=5,o.delete();case 5:a.value.splice(n,1),r.commit("emitSelectedWorkbookId",Number(a.value[0].id));case 7:case"end":return e.stop()}}),e)})));return function(r,t){return e.apply(this,arguments)}}(),h=function(){var e=Object(u["a"])(regeneratorRuntime.mark((function e(r){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,s["a"].purgeByWorkbookId(Number(r.id));case 2:case"end":return e.stop()}}),e)})));return function(r){return e.apply(this,arguments)}}(),x=function(){var e=Object(u["a"])(regeneratorRuntime.mark((function e(t,a){var o;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return o=new l["a"](t),e.next=3,o.delete();case 3:n.value.splice(a,1),r.state.selectedExternalSearchId=Number(n.value[0].id);case 5:case"end":return e.stop()}}),e)})));return function(r,t){return e.apply(this,arguments)}}(),v=function(){var e=Object(u["a"])(regeneratorRuntime.mark((function e(){var r,t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:r=new l["a"](void 0),r.name="new search",r.url="https://domain/search",t=new l["b"],t.paramName="q",t.paramValueIsSearchText=!0,r.externalSearchParams=[t],r.save(),n.value.push(r);case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),w=function(){var e=Object(u["a"])(regeneratorRuntime.mark((function e(){var r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=new i["a"](void 0),r.name="New workbook",e.next=4,r.save();case 4:a.value.push(r);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),g=function(e,r,t){e.externalSearchParams[r].paramValueIsSearchText=t,e.externalSearchParams[r].paramValueIsSearchText&&(e.externalSearchParams[r].paramValue="");var a=new l["a"](e);return a.save()},S=function(e,r,t){e.externalSearchParams[r].paramValue=t;var a=new l["a"](e);return a.save()},y=function(e,r,t){e.externalSearchParams[r].paramName=t;var a=new l["a"](e);return a.save()},E=function(e,r){e.url=r;var t=new l["a"](e);return t.save()},_=function(e,r){e.name=r;var t=new l["a"](e);return t.save()},R=function(e,r){e.name=r;var t=new i["a"](e);return t.save()},O=function(){var e=Object(u["a"])(regeneratorRuntime.mark((function e(){var r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,m["a"]();case 2:r=e.sent,m["c"]("workbookBookmarks",r);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),P=function(){var r=Object(u["a"])(regeneratorRuntime.mark((function r(t){var a,n;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return a=null===e||void 0===e?void 0:e.refs.el,r.next=3,m["d"](a);case 3:return n=r.sent,a.value="",r.next=7,m["b"](n);case 7:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}();return{workbooks:a,externalSearchs:n,addDesktopsearchBookmark:o,dropboxSync:c,addExternalSearchParam:p,delExternalSearchParam:b,doToggleExport:k,deleteWorkbook:f,purgeWorkbook:h,deleteExternalSearch:x,addExternalSearch:v,addWorkbook:w,emitExternalSearchearchPValueIsSearchText:g,emitExternalSearchearchParamValue:S,emitExternalSearchearchParamName:y,emitExternalSearchUrl:E,emitExternalSearchName:_,emitWorkbookName:R,doExportBookmarks:O,doImportBookmarks:P}}}),b=p,k=t("2877"),f=Object(k["a"])(b,o,c,!1,null,"50b11196",null),h=f.exports,x=Object(d["c"])({components:{Admin:h}}),v=x,w=Object(k["a"])(v,a,n,!1,null,null,null);r["default"]=w.exports},aa80:function(e,r,t){"use strict";t.d(r,"c",(function(){return c})),t.d(r,"d",(function(){return u})),t.d(r,"b",(function(){return i})),t.d(r,"a",(function(){return l}));var a=t("1da1"),n=(t("96cf"),t("d3b7"),t("49a7")),o=t("388c");function c(e,r){var t=document.createElement("a");t.setAttribute("href","data:text/plain;charset=utf-8,"+encodeURIComponent(r)),t.setAttribute("download",e),t.style.display="none",document.body.appendChild(t),t.click(),document.body.removeChild(t)}function u(e){return new Promise((function(r){if(0!==e.files.length){var t=new FileReader;t.onload=function(e){var t;r(null===(t=e.target)||void 0===t?void 0:t.result)},t.readAsText(e.files[0])}}))}function i(e){return s.apply(this,arguments)}function s(){return s=Object(a["a"])(regeneratorRuntime.mark((function e(r){var t,a,c,u,i,s,l,m;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:t=JSON.parse(r),a=0;case 2:if(!(a<t.length)){e.next=45;break}return c=new n["a"](t[a].workbook),delete c.id,e.next=7,n["a"].getByUuid(t[a].workbook.uuid);case 7:if(u=e.sent,u.id&&(c.id=u.id),c.isExport||u.id){e.next=11;break}return e.abrupt("continue",42);case 11:if(!u.id){e.next=18;break}if(c.id=u.id,!(c.modifiedDateTime>u.modifiedDateTime)){e.next=16;break}return e.next=16,c.save();case 16:e.next=20;break;case 18:return e.next=20,c.save();case 20:i=0;case 21:if(!(i<t[a].bookmarks.length)){e.next=42;break}return s=t[a].bookmarks[i],l=new o["a"](s),delete l.id,l.uuid=s.uuid,l.workbookId=c.id,e.next=29,o["a"].getByUuid(l.uuid);case 29:if(m=e.sent,!m.id){e.next=37;break}if(l.id=m.id,!(l.modifiedDateTime>m.modifiedDateTime)){e.next=35;break}return e.next=35,l.save();case 35:e.next=39;break;case 37:return e.next=39,l.save();case 39:i++,e.next=21;break;case 42:a++,e.next=2;break;case 45:case"end":return e.stop()}}),e)}))),s.apply(this,arguments)}function l(){return m.apply(this,arguments)}function m(){return m=Object(a["a"])(regeneratorRuntime.mark((function e(){var r,t,a,c,u;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,n["a"].getAll();case 2:r=e.sent,t=[],a=0;case 5:if(!(a<r.length)){e.next=18;break}if(!r[a].isExport){e.next=14;break}return c=r[a].id,e.next=10,o["a"].getAllByWorkbookId(c);case 10:u=e.sent,t.push({workbook:r[a],bookmarks:u}),e.next=15;break;case 14:t.push({workbook:r[a],bookmarks:[]});case 15:a++,e.next=5;break;case 18:return e.abrupt("return",JSON.stringify(t));case 19:case"end":return e.stop()}}),e)}))),m.apply(this,arguments)}}}]);
//# sourceMappingURL=chunk-eaf0c03c.891a37bf.js.map