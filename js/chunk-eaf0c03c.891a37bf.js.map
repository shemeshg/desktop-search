{"version":3,"sources":["webpack:///./src/views/Admin.vue?4baf","webpack:///./src/components/Admin.vue?24d6","webpack:///./src/components/Admin.vue","webpack:///./src/components/Admin.vue?7c17","webpack:///./src/components/Admin.vue?e2bc","webpack:///src/views/Admin.vue","webpack:///./src/views/Admin.vue?5b90","webpack:///./src/views/Admin.vue","webpack:///./src/src/util.ts"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","staticRenderFns","attrs","_v","on","dropboxSync","addDesktopsearchBookmark","$event","addWorkbook","_l","workbook","idx","key","uuid","name","emitWorkbookName","workbooks","length","deleteWorkbook","_e","purgeWorkbook","doToggleExport","isExport","externalSearch","emitExternalSearchName","url","emitExternalSearchUrl","deleteExternalSearch","addExternalSearchParam","externalSearchParam","idxp","paramName","emitExternalSearchearchParamName","emitExternalSearchearchPValueIsSearchText","model","value","callback","$$v","$set","expression","paramValueIsSearchText","paramValue","emitExternalSearchearchParamValue","delExternalSearchParam","addExternalSearch","doExportBookmarks","ref","doImportBookmarks","setup","root","store","router","state","externalSearchs","window","location","href","replace","pageName","w","externalSearchParams","push","e","save","splice","deleteByWorkbookId","Number","id","delete","commit","purgeByWorkbookId","selectedExternalSearchId","r","undefined","p","event","ret","target","el","refs","str","component","components","Admin","downloadFileAsString","filename","text","element","document","createElement","setAttribute","encodeURIComponent","style","display","body","appendChild","click","removeChild","readFileAsString","Promise","resolve","files","reader","FileReader","onload","result","readAsText","doImport","JSON","parse","newWorkbook","getByUuid","oldWorkbook","modifiedDateTime","i","bookmarks","row","newRecord","workbookId","extsting","doExport","getAll","getAllByWorkbookId","stringify"],"mappings":"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","file":"js/chunk-eaf0c03c.891a37bf.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"home\"},[_c('Admin')],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('b-container',{attrs:{\"fluid\":\"\"}},[_c('h2',[_vm._v(\"Manual Sync\")]),_c('p',[_c('b-link',{on:{\"click\":_vm.dropboxSync}},[_vm._v(\"Dropbox Sync\")])],1),_c('h2',[_vm._v(\" Chrome extention: drag link to chrome bookmarks bar, not required for mobile (implemented via share api) \")]),_c('a',{attrs:{\"href\":_vm.addDesktopsearchBookmark}},[_vm._v(\"Add Bookmark\")]),_c('h2',[_vm._v(\"Workbooks\")]),_c('b-card',{staticClass:\"mb-2\"},[_c('b-link',{on:{\"click\":function($event){return _vm.addWorkbook()}}},[_vm._v(\"Add\")]),_c('ul',_vm._l((_vm.workbooks),function(workbook,idx){return _c('li',{key:workbook.uuid,staticClass:\"mb-2\"},[_c('b-form-input',{attrs:{\"value\":workbook.name},on:{\"change\":function($event){return _vm.emitWorkbookName(workbook, $event)}}}),_c('span',[(_vm.workbooks.length !== 1)?_c('b-link',{on:{\"click\":function($event){return _vm.deleteWorkbook(workbook, idx)}}},[_vm._v(\"Del\")]):_vm._e(),_vm._v(\"  \"),(_vm.workbooks.length !== 1)?_c('span',[_vm._v(\"|\")]):_vm._e(),_c('b-link',{on:{\"click\":function($event){return _vm.purgeWorkbook(workbook)}}},[_vm._v(\"Purge\")]),_vm._v(\" | \"),(workbook.isExport)?_c('b-badge',{attrs:{\"variant\":\"success\"},on:{\"click\":function($event){return _vm.doToggleExport(workbook)}}},[_vm._v(\"Export\")]):_vm._e(),(!workbook.isExport)?_c('b-badge',{attrs:{\"variant\":\"\"},on:{\"click\":function($event){return _vm.doToggleExport(workbook)}}},[_vm._v(\"Export\")]):_vm._e()],1)],1)}),0)],1),_c('h2',[_vm._v(\"External search\")]),_c('b-card',{staticClass:\"mb-2\"},[_c('ul',_vm._l((_vm.externalSearchs),function(externalSearch,idx){return _c('div',{key:externalSearch.uuid},[_c('b-form-row',[_c('b-form-group',{staticClass:\"mb-2 mr-sm-2 mb-sm-0\",attrs:{\"label\":\"Name:\"}},[_c('b-form-input',{attrs:{\"value\":externalSearch.name,\"required\":\"\"},on:{\"change\":function($event){return _vm.emitExternalSearchName(externalSearch, $event)}}})],1),_c('b-form-group',{staticClass:\"mb-2 mr-sm-2 mb-sm-0\",attrs:{\"label\":\"Url:\"}},[_c('b-form-input',{attrs:{\"value\":externalSearch.url,\"required\":\"\"},on:{\"change\":function($event){return _vm.emitExternalSearchUrl(externalSearch, $event)}}})],1)],1),(idx !== 0)?_c('span',[_c('b-link',{on:{\"click\":function($event){return _vm.deleteExternalSearch(externalSearch, idx)}}},[_vm._v(\"Del\")]),_vm._v(\" | \")],1):_vm._e(),_c('b-link',{on:{\"click\":function($event){return _vm.addExternalSearchParam(externalSearch)}}},[_vm._v(\"Add param\")]),_vm._l((externalSearch.externalSearchParams),function(externalSearchParam,idxp){return _c('b-card',{key:externalSearchParam.uuid},[_c('b-form-row',[_c('b-form-group',{staticClass:\"mb-2 mr-sm-2 mb-sm-0\",attrs:{\"label\":\"Param:\"}},[_c('b-form-input',{attrs:{\"value\":externalSearchParam.paramName},on:{\"change\":function($event){return _vm.emitExternalSearchearchParamName(\n                    externalSearch,\n                    idxp,\n                    $event\n                  )}}})],1),_c('b-form-group',{staticClass:\"mb-2 mr-sm-2 mb-sm-0\",attrs:{\"label\":\"Val:\"}},[_c('b-input-group',{attrs:{\"prepend\":\"is search param\"}},[_c('b-input-group-append',{attrs:{\"is-text\":\"\"}},[_c('b-form-checkbox',{staticClass:\"mr-n2 mb-n1\",attrs:{\"switch\":\"\"},on:{\"change\":function($event){return _vm.emitExternalSearchearchPValueIsSearchText(\n                        externalSearch,\n                        idxp,\n                        $event\n                      )}},model:{value:(externalSearchParam.paramValueIsSearchText),callback:function ($$v) {_vm.$set(externalSearchParam, \"paramValueIsSearchText\", $$v)},expression:\"externalSearchParam.paramValueIsSearchText\"}},[_c('span',{staticClass:\"sr-only\"})]),(!externalSearchParam.paramValueIsSearchText)?_c('b-form-input',{staticClass:\"ml-2\",attrs:{\"value\":externalSearchParam.paramValue},on:{\"change\":function($event){return _vm.emitExternalSearchearchParamValue(\n                        externalSearch,\n                        idxp,\n                        $event\n                      )}}}):_vm._e()],1)],1)],1)],1),_c('b-link',{on:{\"click\":function($event){return _vm.delExternalSearchParam(externalSearch, idxp)}}},[_vm._v(\"Del param\")])],1)})],2)}),0),_c('b-link',{on:{\"click\":function($event){return _vm.addExternalSearch()}}},[_vm._v(\"Add\")])],1),_c('b-card',{staticClass:\"mb-2\"},[_c('h2',[_vm._v(\"Export\")]),_c('b-button',{staticClass:\"mr-1\",on:{\"click\":_vm.doExportBookmarks}},[_vm._v(\"Export\")]),_c('h2',[_vm._v(\"Import\")]),_c('input',{ref:\"el\",staticClass:\"btn mr-1 btn-secondary\",attrs:{\"type\":\"file\"},on:{\"change\":_vm.doImportBookmarks}})],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport { TWorkbook, Workbook } from \"../src/dxdb/workbook\";\nimport { LocalBookmark } from \"../src/dxdb/localBookmark\";\nimport {\n  TExternalSearch,\n  ExternalSearch,\n  ExternalSearchParam,\n} from \"../src/dxdb/externalSearch\";\nimport * as Util from \"../src/util\";\n\nimport {\n  defineComponent,\n  onMounted,\n  inject,\n  computed,\n  ComputedRef,\n  getCurrentInstance,\n} from \"@vue/composition-api\";\n\nexport default defineComponent({\n  setup() {\n    const root = getCurrentInstance()\n    // eslint-disable-next-line\n    const store: any = inject(\"vuex-store\");\n    // eslint-disable-next-line\n    const router: any = inject(\"router\");\n\n    const workbooks: ComputedRef<TWorkbook[]> = computed(() => {\n      return store.state.workbooks;\n    });\n    const externalSearchs: ComputedRef<TExternalSearch[]> = computed(() => {\n      return store.state.externalSearchs;\n    });\n\n\n    const addDesktopsearchBookmark = `javascript:\ntitle = document.title;\nurl = window.location.href;\ndescription = document.querySelector('meta[name=\"description\"]') ? document.querySelector('meta[name=\"description\"]').content : \"\";\nkeywords = document.querySelector('meta[name=\"keywords\"]') ? document.querySelector('meta[name=\"keywords\"]').content : \"\";\nhostname = window.location.hostname;\nr = {title: title, url: url, description: description, keywords: keywords, hostname: hostname};\n\nrs=JSON.stringify(r);\nurl = \"${window.location.href.replace(\n      \"/admin\",\n      \"/localBookmark/-2\"\n    )}\" + encodeURIComponent(rs);\n\nwindow.open(url, \"_blank\");\n\n`;\n\n    onMounted(() => {\n      store.state.pageName = \"Admin\";\n    });\n\n    const dropboxSync = () => {\n      router.replace({\n        name: \"dropboxsync\",\n      });\n    };\n\n    const addExternalSearchParam = async (externalSearch: TExternalSearch) => {\n      const w = new ExternalSearchParam();\n      w.paramName = \"q\";\n      w.paramValue = \"\";\n      w.paramValueIsSearchText = true;\n\n      externalSearch.externalSearchParams.push(w);\n\n      const e = new ExternalSearch(externalSearch);\n      return e.save();\n    };\n\n    const delExternalSearchParam = (\n      externalSearch: TExternalSearch,\n      idxp: number\n    ) => {\n      externalSearch.externalSearchParams.splice(idxp, 1);\n      const w = new ExternalSearch(externalSearch);\n      return w.save();\n    };\n\n    const doToggleExport = async (workbook: TWorkbook) => {\n      workbook.isExport = workbook.isExport ? 0 : 1;\n      const w = new Workbook(workbook);\n      await w.save();\n    };\n\n    const deleteWorkbook = async (workbook: TWorkbook, idx: number) => {\n      await LocalBookmark.deleteByWorkbookId(Number(workbook.id));\n\n      const w = new Workbook(workbook);\n      await w.delete();\n\n      workbooks.value.splice(idx, 1);\n      store.commit(\"emitSelectedWorkbookId\", Number(workbooks.value[0].id));\n    };\n\n    const purgeWorkbook = async (workbook: TWorkbook) => {\n      await LocalBookmark.purgeByWorkbookId(Number(workbook.id));\n    };\n\n    const deleteExternalSearch = async (\n      externalSearch: TExternalSearch,\n      idx: number\n    ) => {\n      const w = new ExternalSearch(externalSearch);\n      await w.delete();\n\n      externalSearchs.value.splice(idx, 1);\n      store.state.selectedExternalSearchId = Number(\n        externalSearchs.value[0].id\n      );\n    };\n\n    const addExternalSearch = async () => {\n      const r = new ExternalSearch(undefined);\n      r.name = \"new search\";\n      r.url = \"https://domain/search\";\n      const p = new ExternalSearchParam();\n      p.paramName = \"q\";\n      p.paramValueIsSearchText = true;\n      r.externalSearchParams = [p];\n      r.save();\n      externalSearchs.value.push(r);\n    };\n\n    const addWorkbook = async () => {\n      const w = new Workbook(undefined);\n      w.name = \"New workbook\";\n      await w.save();\n      workbooks.value.push(w);\n    };\n\n    // eslint-disable-next-line\n    const emitExternalSearchearchPValueIsSearchText = (\n      externalSearch: TExternalSearch,\n      idxp: number,\n      event: boolean\n    ) => {\n      externalSearch.externalSearchParams[idxp].paramValueIsSearchText = event;\n      if (externalSearch.externalSearchParams[idxp].paramValueIsSearchText) {\n        externalSearch.externalSearchParams[idxp].paramValue = \"\";\n      }\n\n      const w = new ExternalSearch(externalSearch);\n      return w.save();\n    };\n\n    // eslint-disable-next-line\n    const emitExternalSearchearchParamValue = (\n      externalSearch: TExternalSearch,\n      idxp: number,\n      event: string\n    ) => {\n      externalSearch.externalSearchParams[idxp].paramValue = event;\n      const w = new ExternalSearch(externalSearch);\n      return w.save();\n    };\n\n    // eslint-disable-next-line\n    const emitExternalSearchearchParamName = (\n      externalSearch: TExternalSearch,\n      idxp: number,\n      event: string\n    ) => {\n      externalSearch.externalSearchParams[idxp].paramName = event;\n      const w = new ExternalSearch(externalSearch);\n      return w.save();\n    };\n\n    \n    const emitExternalSearchUrl = (\n      externalSearch: TExternalSearch,\n      // eslint-disable-next-line\n      event: any\n    ) => {\n      externalSearch.url = event;\n      const w = new ExternalSearch(externalSearch);\n      return w.save();\n    };\n\n    // eslint-disable-next-line\n    const emitExternalSearchName = (\n      externalSearch: TExternalSearch,\n      // eslint-disable-next-line\n      event: any\n    ) => {\n      externalSearch.name = event;\n      const w = new ExternalSearch(externalSearch);\n      return w.save();\n    };\n\n    // eslint-disable-next-line\n    const emitWorkbookName = (workbook: TWorkbook, event: string) => {\n      workbook.name = event;\n      const w = new Workbook(workbook);\n      return w.save();\n    };\n\n    const doExportBookmarks = async () => {\n      const ret = await Util.doExport();\n\n      Util.downloadFileAsString(\"workbookBookmarks\", ret);\n    };\n\n    // eslint-disable-next-line\n    const doImportBookmarks = async (target: any) => {\n      // eslint-disable-next-line\n      const el: any = root?.refs.el;\n      const str = await Util.readFileAsString(el);\n\n      el.value = \"\";\n\n      await Util.doImport(str);\n    };\n    return {\n      workbooks,\n      externalSearchs,\n      addDesktopsearchBookmark,\n      dropboxSync,\n      addExternalSearchParam,\n      delExternalSearchParam,\n      doToggleExport,\n      deleteWorkbook,\n      purgeWorkbook,\n      deleteExternalSearch,\n      addExternalSearch,\n      addWorkbook,\n      emitExternalSearchearchPValueIsSearchText,\n      emitExternalSearchearchParamValue,\n      emitExternalSearchearchParamName,\n      emitExternalSearchUrl,\n      emitExternalSearchName,\n      emitWorkbookName,\n      doExportBookmarks,\n      doImportBookmarks,\n    };\n  },\n});\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Admin.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Admin.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./Admin.vue?vue&type=template&id=50b11196&scoped=true&\"\nimport script from \"./Admin.vue?vue&type=script&lang=ts&\"\nexport * from \"./Admin.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"50b11196\",\n  null\n  \n)\n\nexport default component.exports","<template>\n  <div class=\"home\">\n    <Admin/>\n  </div>\n</template>\n\n<script>\n// @ is an alias to /src\nimport Admin from '@/components/Admin.vue'\n\nimport { defineComponent } from '@vue/composition-api'\n\nexport default defineComponent({\n  components: {\n    Admin\n  }\n})\n</script>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Admin.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Admin.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Admin.vue?vue&type=template&id=8c3c16bc&\"\nimport script from \"./Admin.vue?vue&type=script&lang=js&\"\nexport * from \"./Admin.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import {Workbook, TWorkbook} from \"./dxdb/workbook\"\nimport {LocalBookmark, TLocalBookmark} from \"./dxdb/localBookmark\"\n\nexport function downloadFileAsString(filename:  string, text: string) {\n  const element = document.createElement('a');\n  element.setAttribute('href', 'data:text/plain;charset=utf-8,' + encodeURIComponent(text));\n  element.setAttribute('download', filename);\n\n  element.style.display = 'none';\n  document.body.appendChild(element);\n\n  element.click();\n\n  document.body.removeChild(element);\n}\n\n// eslint-disable-next-line\nexport function readFileAsString(el: any): Promise<any> {\n  return new Promise( (resolve)=>{\n\n      if (el.files.length === 0) {            \n          return;\n      }\n\n      const reader = new FileReader();\n      reader.onload = function(event) {\n          resolve(event.target?.result);\n      };\n      reader.readAsText(el.files[0]);\n  })\n\n}\n\nexport  async function doImport(str: string){\n  const ret: {\n    workbook: TWorkbook;\n    bookmarks: TLocalBookmark[];\n  }[] = JSON.parse(str);\n\n\n  for (let r = 0; r < ret.length; r++) {\n    const newWorkbook = new Workbook(ret[r].workbook)\n    delete newWorkbook.id\n    const oldWorkbook = await Workbook.getByUuid(ret[r].workbook.uuid);\n    if (oldWorkbook.id) {\n      newWorkbook.id = oldWorkbook.id\n    } \n\n    if (!newWorkbook.isExport && !oldWorkbook.id){continue;}\n\n    if (oldWorkbook.id) {\n      newWorkbook.id = oldWorkbook.id;\n      if (newWorkbook.modifiedDateTime > oldWorkbook.modifiedDateTime) {\n        await newWorkbook.save();\n      }\n    } else {\n      await newWorkbook.save();\n    }\n\n    \n\n    for (let i = 0; i < ret[r].bookmarks.length; i++) {\n      const row: TLocalBookmark = ret[r].bookmarks[i];\n      const newRecord = new LocalBookmark(row);\n      delete newRecord.id;\n      newRecord.uuid = row.uuid;\n      newRecord.workbookId = newWorkbook.id as number;\n      const extsting = await LocalBookmark.getByUuid(newRecord.uuid);\n\n      if (extsting.id) {\n        newRecord.id = extsting.id;\n        if (newRecord.modifiedDateTime > extsting.modifiedDateTime) {\n          await newRecord.save();\n        }\n      } else {\n        await newRecord.save();\n      }\n    }\n  }\n}\n\n\nexport async function doExport(): Promise<string>{\n  const workbooks = await Workbook.getAll();\n    const ret: {\n      workbook: TWorkbook;\n      bookmarks: TLocalBookmark[];\n    }[] = [];\n    for (let w = 0; w < workbooks.length; w++) {\n      if (workbooks[w].isExport) {\n        const id = workbooks[w].id as number;\n        const bookmarks = await LocalBookmark.getAllByWorkbookId(id);\n        ret.push({ workbook: workbooks[w], bookmarks: bookmarks });\n      } else {\n        ret.push({ workbook: workbooks[w], bookmarks: [] });\n      }\n    }\n    return JSON.stringify(ret);\n}"],"sourceRoot":""}